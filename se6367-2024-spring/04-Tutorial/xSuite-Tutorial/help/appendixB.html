<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <title>Software Quality Assurance (SQA) Tool: 
Platform Specific Information</title>
	<link rel="stylesheet"
        href="style.css"
        type="text/css"
        media="screen">
</head>

<body>
<div id="wrap">
<a href="coverpage.html">[Top]</a>
<a href="xslice.html">[Prev]</a>
<a href="sqatoolIX.html">[Next]</a>
<a href="sqatoolIX.html">[Index]</a>
<a href="sqatoolTOC.html"> [TOC] </a>
<hr><br>
<a name="1001045"><br>
<h1>Appendix A: Platform Specific Information
</h1>
<br>
</a><a name="1001730">
This appendix documents the platform specific commands to be executed
when setting up and using the examples provided in the tutorial
sections of each chapter, especially </a><a href="tutorial.html#402515">Chapter
2,
<em>ATAC & xSuite: A Tutorial</em></a>.
<p><a name="1001731">
<h2>A.1 Linux platform
</h2>
</a><a name="17424">
When running on a Linux system, the following command will copy the
contents of the `ataclib'/tutorial directory to the current (working)
directory:
</a></p>
<pre><a name="17425">	prompt:&gt; cp `ataclib`/tutorial/* .<br></a></pre>
<a name="1001647">To compile the wordcount program from the <em>Makefile</em>:
</a>
<pre><a name="1001648">	prompt:&gt; make<br></a></pre>
<a name="1001652">The output from <em>make</em> should look
approximately like this:
</a>
<pre>        cc -g -c wc.c<br>	cc -g -c main.c<br>	cc -g -o wordcount wc.o main.o<br></pre>
<a name="1002411">If you wish to compile the program manually, in one
step:
</a>
<pre><a name="1031164">	prompt:&gt; cc -g -o wordcount main.c wc.c<br></a></pre>
<a name="1033527">The complete source listings of the <em>main.c</em>,
<em>wc.c</em>,<em> </em>and <em>Makefile</em> files are listed in </a><a
 href="appendixB.html#15673">Figure A-
1</a> through <a href="appendixB.html#15740">Figure A-3</a><em>.
</em>
<p><a name="16601">To remove the previously created object files and
the executable file:
</a></p>
<pre><a name="1009730">	prompt:&gt; make clean<br></a></pre>
<a name="1009734">To compile the <em>wordcount </em>program with <em>atac
</em>by prefixing the standard C compiler, <em>cc</em>: </a>
<pre><a name="15568">	prompt:&gt; make CC="atac cc"<br></a></pre>
<a name="1029158">The output generated by <em>make </em>should look
something like this:
</a>
<pre><a name="1029158">        atac cc -g -c wc.c   <br>        atac cc -g -c main.c <br>        atac cc -g -o wordcount wc.o main.o<br></a></pre>
<!--------------------------------------------------------------------------->
<p><a name="1029158"><br>
</a></p>
<center>
<table border="1">
  <caption><br>
  </caption><tbody>
    <tr>
      <td>
      <pre><font size="2"><br>/*<br> * main.c<br> *<br> * Modified from ``The C Programming Language'' <br> *     by Kernighan &amp; Ritchie, 1978.<br> * page 18.<br> *<br> */<br><br>#include &lt;stdio.h&gt;<br><br>main(argc,argv)<br>  int argc;<br>  char **argv;<br>{<br> char	*p;<br> int	linect, wordct, charct;<br> long	tlinect = 0;<br> long	twordct = 0;<br> long	tcharct = 0;<br> int	doline = 0;<br> int	doword = 0;<br> int	dochar = 0;<br> FILE	*file;<br><br> if (argc &gt; 1 &amp;&amp; argv[1][0] == `-') {<br>    for (p = argv[1] + 1; *p; ++p)<br>         switch(*p) {<br>         case `l':<br>            doline = 1;<br>            break;<br>         case `w':<br>            doword = 1;<br>            break;<br>         case `c':<br>            dochar = 1;<br>            break;<br>         default:<br>            fprintf(stderr, "invalid option: -%c\n",<br>                    *p);<br>         case `?':<br>            fputs("usage: wc [-lwc] [files]\n",<br>                  stderr);<br>            return 1;<br>         }<br>    argv += 2;<br> }<br></font><br>      </pre>
      <br>
      </td>
      <td>
      <pre><font size="2"><br> else {<br>    ++argv;<br>    doline = 1;<br>    doword = 1;<br>    dochar = 1;<br> }<br> do {<br>    if (!*argv) {<br>        count(stdin, &amp;linect, &amp;wordct, &amp;charct);<br>        print(doline, doword, dochar, linect, <br>              wordct, charct, "");<br>        return;<br>    }<br>    else {<br>        file = fopen(*argv, "r");<br>        if (file == NULL) {<br>        perror(*argv);<br>        return 1;<br>    }<br>    count(file, &amp;linect, &amp;wordct, &amp;charct);<br>    fclose(file);<br>    print(doline, doword, dochar, linect, wordct, <br>          charct, *argv);<br>    }<br>    tlinect += linect;<br>    twordct += wordct;<br>    tcharct += charct;<br> } while(*++argv);<br><br> print(doline, doword, dochar, tlinect, twordct, <br>       tcharct, "total");<br> return 0;<br>}<br><br>static print(doline, doword, dochar, linect, <br>             wordct, charct, file)<br>   int  doline, doword, dochar;<br>   int  linect, wordct, charct;<br>   char *file;    <br>{<br>   if (doline)<br>       printf(" %7ld", linect);<br>   if (doword)<br>       printf(" %7ld", wordct);<br>   if (dochar)<br>       printf(" %7ld", charct);<br>   printf(" %s\n", file);<br>}<br></font></pre>
      <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
Figure A-1 The source listing of the file main.c
</center>
<!--------------------------------------------------------------------------->
<p><br>
</p>
<center>
<table border="1">
  <caption><br>
  </caption><tbody>
    <tr>
      <td>
      <pre><font size="2"><br>/*<br> * wc.c<br> *<br> * Modified from ``The C Programming Language'' <br> *     by Kernighan &amp; Ritchie, 1978.<br> * page 18.<br> *<br> */<br><br>#include &lt;stdio.h&gt;<br><br>#define IN1   /* inside a word */<br>#define OUT0  /* outside a word */<br><br>/* count lines, words and characters in input */<br><br>count(file, p_nl, p_nw, p_nc)<br>FILE *file;<br>int  *p_nl, *p_nw, *p_nc;<br>{<br></font></pre>
      <br>
      </td>
      <td>
      <pre><font size="2"><br> int c, nl, nw, nc, state;<br> state = OUT;<br> nl = 0;<br> nw = 0;<br> nc = 0;<br> while (EOF != (c = getc(file))) {<br>    ++nc;<br>    if (c == `\n')<br>        ++nl;<br>    if (c == ` ` || c == `\n' || c == `\t')<br>        state = OUT;<br>    else if (state == OUT) {<br>        state = IN;<br>        ++nw;<br>    }<br> }<br> *p_nl = nl;<br> *p_nw = nw;<br> *p_nc = nc;<br>}<br></font></pre>
      <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
Figure A-2 The source listing of the file wc.c
</center>
<!--------------------------------------------------------------------------->
<p><br>
</p>
<center>
<table border="1">
  <caption><br>
  </caption><tbody>
    <tr>
      <td>
      <pre><font size="2"><br><br>CFLAGS=-g<br><br>wordcount:	wc.o main.o<br>		$(CC) -g -o wordcount wc.o main.o<br><br>wc_err:		wc.o main_err.o<br>		$(CC) -g -o wc_err wc.o main_err.o<br><br>clean:<br>		-@atactm wordcount.trace<br>		-@atactm wc_err.trace<br>		rm -f *.o wordcount wc_err<br>		rm -f *.atac *.trace *.dif *.features tests_log<br></font></pre>
      <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
Figure A-3 The Linux source listing of <em>Makefile </em>
</center>
<!--------------------------------------------------------------------------->
<a name="1002518">If you do not wish to use <em>make, </em>you may
compile the program under ATAC by entering the following command
yourself:
</a>
<pre><a name="1002518">	prompt:&gt; atac cc -g -o wordcount main.c wc.c<br></a></pre>
<a name="16715">In </a><a href="xslice.html#784945">Section 13.2, <em>A
Tutorial</em></a>, you are instructed to compile the <em>wc_err </em>program
with
<em>atac. </em>Do this by:
<pre><a name="16716">	prompt:&gt; make wc_err CC="atac cc"<br></a></pre>
<a name="1001847">
<h2>A.2 Windows XP platform
</h2>
</a><a name="1001695">
When running on a Windows XP system, if you installed into the default
installation directory, the following command will copy the contents of
the tutorial directory to the current (working) directory:
</a>
<pre><a name="16837">	prompt:&gt; xcopy /I "C:\Program Files\AppComSci\SQATool\tutorial\*" .<br></a></pre>
<a name="16838">If you installed into a different directory, use the
path you chose for your installation in this command.
</a>
<p><a name="1001697">To compile the wordcount program from the <em>Makefile</em>:</a>&nbsp;
<br>
</p>
<a name="1001697"></a>
<dl>
  <dl>
    <dl>
    </dl>
  </dl>
</dl>
<pre><a name="1001697">		prompt:&gt; nmake -f makefile_msc<br></a></pre>
<a name="17217">
</a><!---------------------------------------------------->
<p>Note that the <em>nmake</em> command needs to be invoked from a Microsoft Visual Studio Command Prompt window (in the Start Menu/Microsoft Visual Studio 2005/Visual Studio Tools folder). The output will look something like
<a href="appendixB.html#16256">Figure A-5</a>.<!---------------------------------------------------->
</p>
<center>
<table border="1">
  <caption><br>
  </caption><tbody>
    <tr>
      <td>
      <pre><font size="2">
	  <!--<br><br>prompt:&gt; nmake -f makefile_msc<br><br>Microsoft (R) Program Maintenance Utility Version 9.00.21022.08<br>Copyright (C) Microsoft Corporation. All rights reserved.<br><br>        cl /nologo /w /c wc.c<br>wc.c<br>        cl /nologo /w /c main.c<br>main.c<br>        cl /nologo /w wc.obj main.obj  /link /out:wordcount.exe<br></font></pre> -->
Microsoft (R) Program Maintenance Utility Version 9.00.21022.08
Copyright (C) Microsoft Corporation.  All rights reserved.

        cl /nologo /w /c wc.c main.c
wc.c
main.c
Generating Code...
        cl /nologo /w wc.obj main.obj  /link /out:wordcount.exe
	
	</pre>	
	  
	  <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
Figure A-5 The output of <em>nmake </em>with the Microsoft compiler
</center>
<!---------------------------------------------------->
<p><a name="15930"></a><a name="16433">The complete source listings of
the <em>main.c </em>and<em>
wc.c</em> files are in </a><a href="appendixB.html#15673">Figure A-1</a>
and <a href="appendixB.html#15726">Figure A-
2</a>. The <em>Makefile</em> file is listed in <a
 href="appendixB.html#16416">Figure A-6</a> for the
Microsoft compiler.
<!-------------------------------------------------------></p>
<center>
<table border="1">
  <caption><br>
  </caption><tbody>
    <tr>
      <td>
      <pre><font size="2">
	  <br>CFLAGS=/nologo /w<br><br>wordcount.exe:	wc.obj main.obj<br>		$(CC) $(CFLAGS) wc.obj main.obj  /link /out:wordcount.exe<br><br>wc_err.exe:	wc.obj main_err.obj<br>		$(CC) $(CFLAGS) wc.obj main_err.obj /link /out:wc_err.exe<br><br>clean:<br>	del wc.obj main.obj main_err.obj wordcount.exe wc_err.exe <br>        del wc.atac main.atac main_err.atac wordcount.trace wc_err.trace<br>	del main.dif wc.dif wc.features tests_log.txt<br></font></pre>
      <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
Figure A-6 <em>Makefile</em> source listing for Microsoft compiler
</center>
<!--------------------------------------------------------------------------->
<a name="17178"></a><a name="17243"></a>
<p><a name="1032895">To remove the previously created object files and
the executable file:
</a></p>
<pre><a name="1032895">		prompt:&gt; nmake -f makefile_msc clean<br></a></pre>
<!--------------------------------------------------------------------------->
<a name="16795"></a><a name="17051">To see the approximate output of
these commands, refer to </a><a href="appendixB.html#17051">Figure A-7</a>.
<!---------------------------------------------->
<center>
<table border="1">
  <caption><br>
  </caption><tbody>
    <tr>
      <td>
      <pre><font size="2">
	  <!-- <br>prompt:&gt; nmake -f makefile_msc clean<br><br>Microsoft (R) Program Maintenance Utility Version 8.00.50727.42<br>Copyright (C) Microsoft Corporation. All rights reserved.<br><br>        del *.obj<br>        del *.exe<br>        del *.atac<br>        del *.trace<br>Could Not Find D:\tutorial\*.trace<br>        del *.dif<br>Could Not Find D:\tutorial\*.dif<br>        del *.features<br>Could Not Find D:\tutorial\*.features<br>        del tests_log.txt<br>Could Not Find D:\tutorial\tests_log.txt<br></font></pre> -->
Microsoft (R) Program Maintenance Utility Version 9.00.21022.08
Copyright (C) Microsoft Corporation.  All rights reserved.

        del *.obj
        del *.exe
        del *.atac
        del *.trace
Could Not Find c:\currrent-sqa-work-may-11\rundemo\*.trace
        del *.dif
Could Not Find c:\currrent-sqa-work-may-11\rundemo\*.dif
        del *.features
Could Not Find c:\currrent-sqa-work-may-11\rundemo\*.features
        del tests_log.txt
Could Not Find c:\currrent-sqa-work-may-11\rundemo\tests_log.txt      
	  <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
Figure A-7 The <em>clean</em> command and it's output with the
Microsoft compiler
</center>
<!--------------------------------------------->
<p><a name="1032208">To compile the <em>wordcount </em>program with
ATAC:</a> </p>
<dl>
  <dl>
    <dl>
    </dl>
  </dl>
</dl>
<pre><a name="1032088">		prompt:&gt; nmake -f makefile_msc CC=atacCL wordcount.exe<br></a></pre>
<!--------------------------------------------->
<a name="1031992"></a><a name="1032150">The output generated by <em>nmake
</em>should look something like </a><!---------------------------------------------><a
 href="appendixB.html#1032088">Figure A-8</a>.
<dl>
  <dl>
    <dl>
    </dl>
  </dl>  
</dl>
<!--------------------------------------------->
<center>
<table border="1">
  <caption><br>
  </caption><tbody>
    <tr>
      <td>
      <pre>
		<font size="2"> 
		<!-- <br><br>prompt:&gt; nmake -f makefile_msc CC=atacCL wordcount.exe<br><br>Microsoft (R) Program Maintenance Utility Version 8.00.50727.42<br>Copyright (C) Microsoft Corporation. All rights reserved.<br><br>        atacCL /nologo /w /c wc.c<br>wc.c<br>wc.c<br>        atacCL /nologo /w /c main.c<br>main.c<br>main.c<br>        atacCL /nologo /w wc.obj main.obj  /link /out:wordcount.exe<br></font></pre> -->
Microsoft (R) Program Maintenance Utility Version 9.00.21022.08
Copyright (C) Microsoft Corporation.  All rights reserved.

        atacCL /nologo /w /c wc.c main.c
Instrumenting wc.c
Instrumenting main.c
wc.c
main.c
Generating Code...
        atacCL /nologo /w wc.obj main.obj  /link /out:wordcount.exe
atac: Analyzing 2 files
atac: Done
</pre>      
	  
	  <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
Figure A-8 Compiling with <em>atac</em> - Microsoft compiler
</center>


<!--------------------------------------------->
<p><a name="16779">In </a><a href="xslice.html#784945">Section 13.2, <em>A
Tutorial</em></a>,
you are instructed to compile the <em>wc_err </em>program with ATAC<em>.
</em>Do this by: </p>
<dl>
  <dl>
    <dl>
    </dl>
  </dl>
</dl>
<pre><a name="16775">		prompt:&gt; nmake -f makefile_msc CC=atacCL wc_err.exe<br></a></pre>
<hr><br>
<a href="coverpage.html">[Top]</a>
<a href="displaying.html">[Prev]</a>
<a href="sqatoolIX.html">[Next]</a>
<a href="sqatoolIX.html">[Index]</a>
<a href="sqatoolTOC.html"> [TOC] </a>
<hr><br>
<br>
</div>
</body>
</html>
